<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>俄罗斯方块</title>
<script src="js/lufylegend-1.9.1.min.js"></script>
<style type="text/css">
*{padding:0;margin:0;height:100%; overflow:hidden;}
#myTetris{height:100%;}
</style>
</head>

<body>
<div id="myTetris">loading...</div>
<script>
var isOver=false,
	row=18,
	col=10,
	size=Math.ceil((document.body.clientWidth-35)/14),
	shapes=["0,1,1,1,2,1,3,1","1,0,1,1,1,2,1,3",
		"1,0,1,1,1,2,2,2","0,2,1,2,2,2,2,1","2,3,2,2,2,1,1,1","3,1,2,1,1,1,1,2",
		"2,0,2,1,2,2,1,2","0,1,1,1,2,1,2,2","1,3,1,2,1,1,2,1","3,2,2,2,1,2,1,1",
		"0,1,1,1,1,2,2,2","1,3,1,2,2,2,2,1",
		"3,1,2,1,2,2,1,2","1,0,1,1,2,1,2,2",
		"1,1,2,1,2,2,1,2",
		"1,1,0,2,1,2,2,2","1,2,2,3,2,2,2,1","2,2,3,1,2,1,1,1","2,1,1,0,1,1,1,2"],
	colors=['#af0000','#007900','#578eff','#707070'],
	level=0,
	levelTime=500,
	score=0,
	clock;
var clientWidth,
	clientHeight,
	backLayer,
	nestLayer,
	scoreLayer,
	levelLayer,
	nextText,
	scoreText,
	levelText;
function Tetris(tp){
	this.blocks = [1,1,1,1];
	this.color = null;
	this.nextColor = null;
	this.shape = null;
	this.nextShape = null;
	this.left = null;
	this.top = null;
}
Tetris.prototype.fresh = function(){
	
}
function gameStart(){
	alert('开始')
}
function gameInit(){
	var title = new LTextField();
	title.size = 30;
	title.text = '俄罗斯方块';
	title.x = (clientWidth - title.getWidth())/2;
	title.y = 100;
	title.color = '#333333';
	backLayer.addChild(title);
	var clickText = new LTextField();
	clickText.size = 20;
	clickText.text = '点击此处开始游戏';
	var clickTextLeft = (clientWidth - clickText.getWidth())/2;
	clickText.x = clickTextLeft;
	clickText.y = 300;
	clickText.color = '#333333';
	var clickLayer = new LSprite();
	clickLayer.graphics.drawRect(1,'#333333',[clickTextLeft-10,290,clickText.getWidth()+20,40]);
	clickLayer.addChild(clickText);
	backLayer.addChild(clickLayer);
	clickLayer.addEventListener(LMouseEvent.MOUSE_UP,gameStart);
}
function main(){  
	backLayer = new LSprite();
	backLayer.graphics.drawRect(1,'#eeeeee',[0,0,clientWidth,clientHeight],true,'#eeeeee');
	addChild(backLayer);
	gameInit();
}
(function(){
	clientWidth = document.getElementById('myTetris').offsetWidth;
	clientHeight = document.getElementById('myTetris').offsetHeight;
	init(50,"myTetris",clientWidth,clientHeight,main);
})();
</script>
</body>
</html>